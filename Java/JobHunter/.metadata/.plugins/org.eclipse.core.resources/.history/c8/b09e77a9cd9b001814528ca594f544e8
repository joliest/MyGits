package com.jobhunter.controllers;

import java.io.*;

import javax.servlet.*;
import javax.servlet.http.*;

import com.jobhunter.components.Account;
import com.jobhunter.database.AccountDatabase;

public class ProfileController extends HttpServlet{
	/*
	 * When a controller detects that there's no existing profile
	 * in a logged in account, it will ask user to create one. 
	 * Will redirect to existing profile if otherwise.
	 * 
	 */
	public void doPost(HttpServletRequest request, HttpServletResponse response)
			throws IOException, ServletException {
		response.setContentType("text/html");
		PrintWriter out = response.getWriter();
		
		String email = request.getParameter("email");
		String password = request.getParameter("password");
		
		Account account = new Account(email, password);
		AccountDatabase database = new AccountDatabase();
		
		database.add(account);
		
		RequestDispatcher view = request.getRequestDispatcher("/Profile");
		view.forward(request, response);
	}
}
